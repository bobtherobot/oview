!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Mark=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var o=function(){function t(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=i,this.iframes=n,this.exclude=s,this.iframesTimeout=o}return n(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(e){var i=t.filter((function(t){return t.contains(e)})).length>0;-1!==t.indexOf(e)||i||t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{var s=t.contentWindow;if(i=s.document,!s||!i)throw new Error("iframe inaccessible")}catch(t){n()}i&&e(i)}},{key:"isIframeBlank",value:function(t){var e="about:blank",i=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&i!==e&&i}},{key:"observeIframeLoad",value:function(t,e,i){var n=this,s=!1,o=null,r=function r(){if(!s){s=!0,clearTimeout(o);try{n.isIframeBlank(t)||(t.removeEventListener("load",r),n.getIframeContents(t,e,i))}catch(t){i()}}};t.addEventListener("load",r),o=setTimeout(r,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,i){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,i):this.getIframeContents(t,e,i):this.observeIframeLoad(t,e,i)}catch(t){i()}}},{key:"waitForIframes",value:function(t,e){var i=this,n=0;this.forEachIframe(t,(function(){return!0}),(function(t){n++,i.waitForIframes(t.querySelector("html"),(function(){--n||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,i,n){var s=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=e.querySelectorAll("iframe"),a=r.length,l=0;r=Array.prototype.slice.call(r);var u=function(){--a<=0&&o(l)};a||u(),r.forEach((function(e){t.matches(e,s.exclude)?u():s.onIframeReady(e,(function(t){i(e)&&(l++,n(t)),u()}),u)}))}},{key:"createIterator",value:function(t,e,i){return document.createNodeIterator(t,e,i,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,i){if(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,i,n){var s=!1,o=!1;return n.forEach((function(t,e){t.val===i&&(s=e,o=t.handled)})),this.compareNodeIframe(t,e,i)?(!1!==s||o?!1===s||o||(n[s].handled=!0):n.push({val:i,handled:!0}),!0):(!1===s&&n.push({val:i,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,i,n){var s=this;t.forEach((function(t){t.handled||s.getIframeContents(t.val,(function(t){s.createInstanceOnIframe(t).forEachNode(e,i,n)}))}))}},{key:"iterateThroughNodes",value:function(t,e,i,n,s){for(var o,r,a,l=this,u=this.createIterator(e,t,n),h=[],c=[];void 0,a=l.getIteratorNode(u),r=a.prevNode,o=a.node;)this.iframes&&this.forEachIframe(e,(function(t){return l.checkIframeFilter(o,r,t,h)}),(function(e){l.createInstanceOnIframe(e).forEachNode(t,(function(t){return c.push(t)}),n)})),c.push(o);c.forEach((function(t){i(t)})),this.iframes&&this.handleOpenIframes(h,t,i,n),s()}},{key:"forEachNode",value:function(t,e,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=this.getContexts(),r=o.length;r||s(),o.forEach((function(o){var a=function(){n.iterateThroughNodes(t,o,e,i,(function(){--r<=0&&s()}))};n.iframes?n.waitForIframes(o,a):a()}))}}],[{key:"matches",value:function(t,e){var i="string"==typeof e?[e]:e,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(n){var s=!1;return i.every((function(e){return!n.call(t,e)||(s=!0,!1)})),s}return!1}}]),t}(),r=function(){function t(i){e(this,t),this.opt=s({},{diacritics:!0,synonyms:{},accuracy:"partially",caseSensitive:!1,ignoreJoiners:!1,ignorePunctuation:[],wildcards:"disabled"},i)}return n(t,[{key:"create",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t),new RegExp(t,"gm".concat(this.opt.caseSensitive?"":"i"))}},{key:"sortByLength",value:function(t){return t.sort((function(t,e){return t.length===e.length?t>e?1:-1:e.length-t.length}))}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createSynonymsRegExp",value:function(t){var e=this,i=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",s=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var o in i)if(i.hasOwnProperty(o)){var r=Array.isArray(i[o])?i[o]:[i[o]];r.unshift(o),(r=this.sortByLength(r).map((function(t){return"disabled"!==e.opt.wildcards&&(t=e.setupWildcardsRegExp(t)),e.escapeStr(t)})).filter((function(t){return""!==t}))).length>1&&(t=t.replace(new RegExp("(".concat(r.map((function(t){return e.escapeStr(t)})).join("|"),")"),"gm".concat(n)),s+"(".concat(r.map((function(t){return e.processSynonyms(t)})).join("|"),")")+s))}return t}},{key:"processSynonyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,i){var n=i.charAt(e+1);return/[(|)\\]/.test(n)||""===n?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],i=this.opt.ignorePunctuation;return Array.isArray(i)&&i.length&&e.push(this.escapeStr(i.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("[".concat(e.join(""),"]*")):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",i=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],n=[];return t.split("").forEach((function(s){i.every((function(i){if(-1!==i.indexOf(s)){if(n.indexOf(i)>-1)return!1;t=t.replace(new RegExp("[".concat(i,"]"),"gm".concat(e)),"[".concat(i,"]")),n.push(i)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,i=this.opt.accuracy,n="string"==typeof i?i:i.value,s="string"==typeof i?[]:i.limiters,o="";switch(s.forEach((function(t){o+="|".concat(e.escapeStr(t))})),n){case"partially":default:return"()(".concat(t,")");case"complementary":return o="\\s"+(o||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")),"()([^".concat(o,"]*").concat(t,"[^").concat(o,"]*)");case"exactly":return"(^|\\s".concat(o,")(").concat(t,")(?=$|\\s").concat(o,")")}}}]),t}(),a=function(){function i(t){e(this,i),this.ctx=t,this.ie=!1;var n=window.navigator.userAgent;(n.indexOf("MSIE")>-1||n.indexOf("Trident")>-1)&&(this.ie=!0)}return n(i,[{key:"log",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",n=this.opt.log;this.opt.debug&&"object"===t(n)&&"function"==typeof n[i]&&n[i]("mark.js: ".concat(e))}},{key:"getSeparatedKeywords",value:function(t){var e=this,i=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===i.indexOf(t)&&i.push(t)})):t.trim()&&-1===i.indexOf(t)&&i.push(t)})),{keywords:i.sort((function(t,e){return e.length-t.length})),length:i.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var i=[],n=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var s=e.callNoMatchOnInvalidRanges(t,n),o=s.start,r=s.end;s.valid&&(t.start=o,t.length=r-o,i.push(t),n=r)})),i}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var i,n,s=!1;return t&&void 0!==t.start?(n=(i=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&n-e>0&&n-i>0?s=!0:(this.log("Ignoring invalid or overlapping range: "+"".concat(JSON.stringify(t))),this.opt.noMatch(t))):(this.log("Ignoring invalid range: ".concat(JSON.stringify(t))),this.opt.noMatch(t)),{start:i,end:n,valid:s}}},{key:"checkWhitespaceRanges",value:function(t,e,i){var n,s=!0,o=i.length,r=e-o,a=parseInt(t.start,10)-r;return(n=(a=a>o?o:a)+parseInt(t.length,10))>o&&(n=o,this.log("End range automatically set to the max value of ".concat(o))),a<0||n-a<0||a>o||n>o?(s=!1,this.log("Invalid range: ".concat(JSON.stringify(t))),this.opt.noMatch(t)):""===i.substring(a,n).replace(/\s+/g,"")&&(s=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:a,end:n,valid:s}}},{key:"getTextNodes",value:function(t){var e=this,i="",n=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){n.push({start:i.length,end:(i+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:i,nodes:n})}))}},{key:"matchesExclude",value:function(t){return o.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,i){var n=this.opt.element?this.opt.element:"mark",s=t.splitText(e),o=s.splitText(i-e),r=document.createElement(n);return r.setAttribute("data-markjs","true"),this.opt.className&&r.setAttribute("class",this.opt.className),r.textContent=s.textContent,s.parentNode.replaceChild(r,s),o}},{key:"wrapRangeInMappedTextNode",value:function(t,e,i,n,s){var o=this;t.nodes.every((function(r,a){var l=t.nodes[a+1];if(void 0===l||l.start>e){if(!n(r.node))return!1;var u=e-r.start,h=(i>r.end?r.end:i)-r.start,c=t.value.substr(0,r.start),d=t.value.substr(h+r.start);if(r.node=o.wrapRangeInTextNode(r.node,u,h),t.value=c+d,t.nodes.forEach((function(e,i){i>=a&&(t.nodes[i].start>0&&i!==a&&(t.nodes[i].start-=h),t.nodes[i].end-=h)})),i-=h,s(r.node.previousSibling,r.start),!(i>r.end))return!1;e=r.end}return!0}))}},{key:"wrapGroups",value:function(t,e,i,n){return n((t=this.wrapRangeInTextNode(t,e,e+i)).previousSibling),t}},{key:"separateGroups",value:function(t,e,i,n,s){for(var o=e.length,r=1;r<o;r++){var a=t.textContent.indexOf(e[r]);e[r]&&a>-1&&n(e[r],t)&&(t=this.wrapGroups(t,a,e[r].length,s))}return t}},{key:"wrapMatches",value:function(t,e,i,n,s){var o=this,r=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){var s;for(e=e.node;null!==(s=t.exec(e.textContent))&&""!==s[r];){if(o.opt.separateGroups)e=o.separateGroups(e,s,r,i,n);else{if(!i(s[r],e))continue;var a=s.index;if(0!==r)for(var l=1;l<r;l++)a+=s[l].length;e=o.wrapGroups(e,a,s[r].length,n)}t.lastIndex=0}})),s()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,i,n,s){var o=this,r=0===e?0:e+1;this.getTextNodes((function(e){for(var a;null!==(a=t.exec(e.value))&&""!==a[r];){var l=a.index;if(0!==r)for(var u=1;u<r;u++)l+=a[u].length;var h=l+a[r].length;o.wrapRangeInMappedTextNode(e,l,h,(function(t){return i(a[r],t)}),(function(e,i){t.lastIndex=i,n(e)}))}s()}))}},{key:"wrapRangeFromIndex",value:function(t,e,i,n){var s=this;this.getTextNodes((function(o){var r=o.value.length;t.forEach((function(t,n){var a=s.checkWhitespaceRanges(t,r,o.value),l=a.start,u=a.end;a.valid&&s.wrapRangeInMappedTextNode(o,l,u,(function(i){return e(i,t,o.value.substring(l,u),n)}),(function(e){i(e,t)}))})),n()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.removeChild(t.firstChild));e.replaceChild(i,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var i=this;this.opt=e,this.log('Searching with expression "'.concat(t,'"'));var n=0,s="wrapMatches";this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),this[s](t,this.opt.ignoreGroups,(function(t,e){return i.opt.filter(e,t,n)}),(function(t){n++,i.opt.each(t)}),(function(){0===n&&i.opt.noMatch(t),i.opt.done(n)}))}},{key:"mark",value:function(t,e){var i=this;this.opt=e;var n=0,s="wrapMatches",o=this.getSeparatedKeywords("string"==typeof t?[t]:t),a=o.keywords,l=o.length;this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),0===l?this.opt.done(n):function t(e){var o=new r(i.opt).create(e),u=0;i.log('Searching with expression "'.concat(o,'"')),i[s](o,1,(function(t,s){return i.opt.filter(s,e,n,u)}),(function(t){u++,n++,i.opt.each(t)}),(function(){0===u&&i.opt.noMatch(e),a[l-1]===e?i.opt.done(n):t(a[a.indexOf(e)+1])}))}(a[0])}},{key:"markRanges",value:function(t,e){var i=this;this.opt=e;var n=0,s=this.checkRanges(t);s&&s.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(s)),this.wrapRangeFromIndex(s,(function(t,e,n,s){return i.opt.filter(t,e,n,s)}),(function(t,e){n++,i.opt.each(t,e)}),(function(){i.opt.done(n)}))):this.opt.done(n)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var i=this.opt.element?this.opt.element:"*";i+="[data-markjs]",this.opt.className&&(i+=".".concat(this.opt.className)),this.log('Removal selector "'.concat(i,'"')),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var n=o.matches(t,i),s=e.matchesExclude(t);return!n||s?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=s({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,acrossElements:!1,ignoreGroups:0,each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new o(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),i}();return function(t){var e=this,i=new a(t);return this.mark=function(t,n){return i.mark(t,n),e},this.markRegExp=function(t,n){return i.markRegExp(t,n),e},this.markRanges=function(t,n){return i.markRanges(t,n),e},this.unmark=function(t){return i.unmark(t),e},this}})),window.oview=window.oview||{},window.oview.utils=function(){"use strict";var t=0;function e(t){var e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return t.sort(e.compare),t}function i(e){var i=s({kind:"div",className:"oview-folder",appendTo:e.appendTo}),n="oviewfolderid"+t++,o={kind:"input",type:"checkbox",id:n,appendTo:i};e.closed||(o.checked=1),s(o);var r=e.type,a=s({kind:"label",className:"oview-folder-header"+(r?" "+r:"")+(e.headerKlass?" "+e.headerKlass:""),content:e.title,for:n,appendTo:i});return e.value&&(s("pre","tab-char","\t",a),s({kind:"span",className:"oview-folder-header-value",content:e.value,appendTo:a})),s({className:"oview-folder-content",appendTo:i})}function n(t,e,i,n,o){var r=s("div","oview-data-line"+(t.klass?" "+t.klass:""),null,e);(s("span","oview-name",t.name,r),s("pre","oview-tab-char","\t",r),s({kind:"span",className:"oview-value"+(o?" oview-numeric":""),content:t.value,appendTo:r}),i&&i.push(t.name+"="+t.value),n)&&(n[(t.prefix?t.prefix:"")+t.name]=t.value)}function s(t,e,i,n,s){if("object"==typeof t){var o=document.createElement(t.kind||"div");for(var r in t)if("kind"!=r){var a=t[r];"content"==r?o.innerHTML=a:"appendTo"==r?a.appendChild(o):"className"==r?o.setAttribute("class",a):o.setAttribute(r,a)}}else{o="text"==(t=t||"div")?document.createTextNode(i):document.createElement(t);if(e&&"text"!=t&&(o.className=e),i&&"text"!=t&&(o.innerHTML=i),n&&n.appendChild(o),s)for(var r in s)o.setAttribute(r,s[r])}return o}function o(t){for(var i=e(Object.keys(t)),n={},s=0;s<i.length;s++){var o=i[s];n[o]=r(t[o])}return n}function r(t){if(Array.isArray(t)){e(t);for(var i=0;i<t.length;i++)t[i]=r(t[i])}else t&&"object"==typeof t&&(t=o(t));return t}return{strToObj:function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((t=>{var i=t.split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])})),e},sortOn:function(t,e,i,n){if(!e||!t)return t;if(t.length<1)return t;var s,o,r,a;void 0===n&&"number"==typeof t[0][e]&&(n=!0),t.sort((s=e,r=(o=n)?function(t){return parseFloat(String(t).replace(/[^0-9.\-]+/g,""))}:function(t){return String(t).toLowerCase()},a=i?-1:1,function(t,e){return t=r(t[s]),e=r(e[s]),o?(t-e)*a:(t<e?-1:t>e?1:0)*a}))},naturalSort:e,sortObjKeys:o,getNumber:function(t){return t.replace(/[^0-9]/,"")},makeElem:s,makeFolder:i,drawLineItem:n,cleanNumberInput:function(t,e){return(!(t=function(t){return Number((""+t).replace(/[^0-9.-]+/g,"")||"0")||parseInt(t,10)||0}(t))||t<e)&&(t=e),t},flatten:function t(e,i,n,s){if(i=i||".",n=n||"",s=s||{},"object"==typeof e&&null!==e)if(Array.isArray(e))for(var o=0;o<e.length;o++){var r=e[o],a=n?n+i+o:o;"object"==typeof e&&null!==r?t(r,i,a,s):s[a]=r}else for(var l in e){a=n?n+i+l:l;"object"==typeof(r=e[l])&&null!==r?t(r,i,a,s):s[a]=r}return s},drawObject:function t(e){var s=e.obj,o=e.name,r=e.target,a=e.closed,l=e.entry,u=l.type,h=i({title:o,value:e.value,type:u,appendTo:r,headerKlass:e.headerKlass,closed:a});if(Array.isArray(s))for(var c=0;c<s.length;c++){"object"==(u=typeof(v=s[c]))?t({entry:l,obj:v,name:c,target:h,headerKlass:e.headerKlass,closed:a}):n({name:c,value:v},h,null,null,"number"==u)}else if("object"==typeof s&&null!=s)for(var d in s){var v;"object"==(u=typeof(v=s[d]))?t({entry:l,obj:v,name:d,target:h,headerKlass:e.headerKlass,closed:a}):n({name:d,value:v},h,null,null,"number"==u)}return h},GetSet:{get:function(t,e,i){if("string"==typeof t&&(t=window[t]),i=i||".",!e)return null;var n,s=e.split(i),o=s.pop(),r=t,a=s.length;if(r&&a)for(var l=0;l<a;l++){var u=r[s[l]];if(!u){r=null;break}r=u}return r&&void 0!==r[o]&&(n=r[o]),n},set:function(t,e,i,n){if("string"==typeof t&&(t=window[t]),!t)return i;n=n||".","string"!=typeof(e=e||"undefined")&&(e="unsupported_key_type");var s=e.split(n),o=s.pop(),r=t,a=s.length;if(a)for(var l=0;l<a;l++){var u=s[l],h=r[u];h&&"object"==typeof h||(h=r[u]={}),r=h}return r[o]=i}},objValList:function(t,e){if(!t)return"";for(var i=e.split(","),n=[],s=0;s<i.length;s++){var o=t[i[s].trim()];o&&n.push(o)}return n.join(", ")},setCssRule:function(t,e){var i=DynaCss.getRule(t);if(i)for(var n in e)i[n]=e[n];else i=DynaCss.addRule(t,e,!0)},JSONparse:function(t){var e=null;try{e=JSON.parse(t)}catch(t){}if(!e)try{e=Function('"use strict";return ('+t+")")()}catch(t){}return e}}}(),this.app=this.app||{},function(){var t,e=1;function i(t){this.init(t)}var n=i.prototype;n.showing=null,n.block=null,n.history=null,n.choose_bound=null,n.blockClick_bound=null,n.store_bound=null,n.change_bound=null,n.userOpts=null,n.itemList=null,n.init=function(e){t=t||oview.utils.makeElem,this.history=[],this.itemList=[];var i=localStorage.getItem("filterHistory"),n=oview.utils.JSONparse(i);n&&(this.history=n),this.showing=!1,this.choose_bound=this.choose.bind(this),this.blockClick_bound=this.blockClick.bind(this),this.store_bound=this.store.bind(this),this.change_bound=this.change.bind(this),this.hide_bound=this.hide.bind(this),this.userOpts=e.userOpts,this.clickMask=e.clickMask,this.clickMask.addEventListener("click",this.hide_bound),this.input=e.elem,this.block=e.block,this.onchange=e.onchange,this.input.addEventListener("click",this.blockClick_bound),this.input.addEventListener("input",this.change_bound),this.input.addEventListener("keyup",(t=>{var e=t.keyCode;9===e||13===e?this.hide():40==e?this.selectDown():38==e&&this.selectUp()}))},n.selectedIndex=null,n.selectDown=function(t){this.selectedIndex=this.selectedIndex||0,this.selectedIndex>this.history.length-1&&(this.selectedIndex=0),this.hightlightSelected(),this.selectedIndex++},n.selectUp=function(t){this.selectedIndex--,this.selectedIndex=this.selectedIndex||0,this.selectedIndex<0&&(this.selectedIndex=this.history.length-1),this.hightlightSelected()},n.lastSelected=null,n.hightlightSelected=function(){var t=this.history[this.selectedIndex];t&&(this.lastSelected&&this.lastSelected.elem&&this.lastSelected.elem.classList.remove("oview-selected"),t.elem&&(t.elem.classList.add("oview-selected"),t.elem.scrollIntoView(),this.onchange({text:t.text,regx:"1"==t.elem.dataset.regx}),this.input.value=t.text),this.lastSelected=t)},n.blockClick=function(t){this.showing?this.hide():this.show()},n.hide=function(){this.showing=!1,this.block.style.display="none",this.clickMask.style.display="none",this.store()},n.change=function(t){this.show(!0)},n.show=function(i){var n=(this.input.value||"").toLowerCase();this.showing=!0,this.block.style.display="block",this.clickMask.style.display="block";for(var s=[],o=0;o<this.history.length;o++){var r=this.history[o];if(r){if(r.id||(r.id=e++),!r.elem){var a=t("div","oview-item",r.text,this.block);a.dataset.text=r.text,a.dataset.regx=r.regx?"1":"0",a.dataset.id=r.id,a.addEventListener("click",this.choose_bound),r.elem=a,r.regx&&a.classList.add("oview-regx")}if(r.elem)if(r.elem.style.display="block",n&&i){var l=r.text.toLowerCase();r.text&&(l.indexOf(n)>-1||n.indexOf(l)>-1)?s.push(r.elem):r.elem.style.display="none"}else s.push(r.elem)}}for(o=0;o<s.length;o++)this.block.appendChild(s[o])},n.store=function(){var t=this.input.value;if(t){for(var i=!0,n=0;n<this.history.length;n++){if((o=this.history[n])&&o.text===t&&o.regx===this.userOpts.regx){i=!1;break}}if(i){this.history.unshift({regx:this.userOpts.regx,text:t,id:e++});var s=[];for(n=0;n<this.history.length;n++){var o;(o=this.history[n])&&o.elem&&(o.elem.classList.remove("oview-selected"),n>50?(o.elem&&(o.elem.removeEventListener("click",this.choose_bound),this.block.removeChild(o.elem),o.elem=null),this.history[n]=null):s.push({regx:o.regx,text:o.text}))}localStorage.setItem("filterHistory",JSON.stringify(s))}}},n.choose=function(t){var e=t.target,i=e.dataset.text;this.input.value=i,this.hide(),this.onchange({text:i,regx:"1"==e.dataset.regx})},oview.InputHistory=i}(),window.oview=window.oview||{},function(){"use strict";var t="default",e=10,i=1,n="light",s=/[|\\{}()[\]^$+*?.]/g;function o(t){this.init(t)}var r=o.prototype;r.ui=null,r.entryList=null,r.filteredList=null,r.filter=null,r.reverseOutput=null,r.mark=null,r.asMin=null,r.useSearchMask=null,r.regx=null,r.RE_filter=null,r.TO_search=null,r.TO_mark=null,r.markOpts=null,r.TO_limiter=null,r.mouseDown_bound=null,r.mouseMove_bound=null,r.mouseUp_bound=null,r.clickedItem=null,r.mouseDidMove=null,r.init=function(t){this.main=t,this.entryList=[],this.filteredList=[],this.filter="",this.reverseOutput=!1,this.asMin=!1,this.useSearchMask=0,this.regx=!1,this.markOpts={debug:!0,log:!0},this.mouseDown_bound=this.mouseDown.bind(this),this.mouseMove_bound=this.mouseMove.bind(this),this.mouseUp_bound=this.mouseUp.bind(this),this.remark_bound=this.remark.bind(this),this.update_bound=this.update.bind(this),this.ui=this.main.ui,this.mark=new Mark(this.ui.output),this.ui.output.addEventListener("mousedown",this.mouseDown_bound),this.setOptions(t.userOpts),this.update()},r.mouseDown=function(t){var e=t.target;this.clickedItem=e.closest(".oview-data-line"),this.clickedItem&&(document.addEventListener("mouseup",this.mouseUp_bound),document.addEventListener("mousemove",this.mouseMove_bound),document.addEventListener("mouseout",this.mouseUp_bound),document.addEventListener("mouseleave",this.mouseUp_bound))},r.mouseMove=function(t){this.mouseDidMove=!0},r.mouseUp=function(t){document.removeEventListener("mousemove",this.mouseMove_bound),document.removeEventListener("mouseup",this.mouseUp_bound),document.removeEventListener("mouseleave",this.mouseUp_bound),this.mouseDidMove||this.clickedItem&&this.clickedItem.classList.toggle("oview-reveal"),this.mouseDidMove=!1,this.clickedItem=null},r.update=function(t){clearTimeout(this.TO_limiter),this.TO_limiter=setTimeout((()=>{this.entryList.length>50&&this.clearOuput()}),36e5),t&&this.entryList.push(t),this.filteredList=[];for(var e=0;e<this.entryList.length;e++){var i=this.entryList[e];i.elem||(i.builder,i.builder.build(i)),this.applyAsMin(i);var n=!1;this.RE_filter?1!=this.useSearchMask||this.RE_filter.test(i.searchable)?this.useSearchMask?i.filterOn(this.RE_filter,2==this.useSearchMask):i.unFilter():n=!0:i.unFilter(),n||this.filteredList.push(i)}this.reverseOutput&&this.filteredList.reverse();var s=this.ui.output;s.innerHTML="";for(e=0;e<this.filteredList.length;e++)s.appendChild(this.filteredList[e].elem);clearTimeout(this.TO_mark),this.TO_mark=setTimeout((()=>{this.mark.unmark({done:this.remark_bound})}),100)},r.remark=function(){this.RE_filter&&(this.mark=this.mark.markRegExp(this.RE_filter,this.markOpts))},r.clearElemRefs=function(){for(var t=0;t<this.entryList.length;t++)this.entryList[t].elem=null},r.setFilter=function(t){this.filter=t,t?this.regx?this.RE_filter=new RegExp(t,"i"):this.RE_filter=new RegExp(t.replace(s,"\\$&"),"i"):this.RE_filter=null,clearTimeout(this.TO_search),this.TO_search=setTimeout(this.update_bound,100)},r.setReverse=function(t){this.reverseOutput=t,this.update()},r.setRegx=function(t){this.regx=t,this.setFilter(this.filter)},r.clearOuput=function(){for(;this.entryList.length;){var t=this.entryList.shift();t&&t.destroy()}this.main.callNum=1,this.update()},r.getFilteredList=function(){return this.filteredList},r.getEntryList=function(){return this.entryList},r.setAsMin=function(t){this.asMin=t;for(var e=0;e<this.entryList.length;e++)this.applyAsMin(this.entryList[e]);this.update()},r.applyAsMin=function(t){var e=t.elem;if(e){var i=e.querySelector(".oview-folder input");i&&(this.asMin?i.removeAttribute("checked"):i.setAttribute("checked","1"))}},r.setSearchMask=function(t){this.useSearchMask=t,this.update()},r.setLineHeight=function(t){t=t||i,t=oview.utils.cleanNumberInput(t,i),this.ui.output.style.lineHeight=t+"em",this.update()},r.setFontSize=function(t){console.log("setFontSize",t),t=t||e,t=oview.utils.cleanNumberInput(t,e),this.ui.output.style.fontSize=t+"px",this.update()},r.setFont=function(e){e=e||t,this.ui.output.style.fontFamily=e,this.update()},r.setDisplay=function(t){"dark"==(t=t||n)?(this.ui.filterHistoryWrapper.classList.add("oview-dark"),this.ui.output.classList.add("oview-dark"),this.ui.tools.classList.add("oview-dark"),this.ui.saveDialog.classList.add("oview-dark")):(this.ui.filterHistoryWrapper.classList.remove("oview-dark"),this.ui.output.classList.remove("oview-dark"),this.ui.tools.classList.remove("oview-dark"),this.ui.saveDialog.classList.remove("oview-dark")),this.clearElemRefs(),this.update()},r.setOptions=function(t){t?"object"==typeof t&&(void 0!==t.lineHeight&&this.setLineHeight(t.lineHeight),void 0!==t.fontSize&&this.setFontSize(t.fontSize),void 0!==t.font&&this.setFont(t.font),void 0!==t.display&&this.setDisplay(t.display)):(this.setLineHeight(),this.setFontSize(),this.setFont(),this.setDisplay())},r.destroy=function(){this.ui=null,this.entryList=null,this.filteredList=null,this.filter=null,this.reverseOutput=null,this.mark=null,this.asMin=null,this.useSearchMask=null,this.regx=null,this.RE_filter=null,this.TO_search=null,this.TO_mark=null,this.markOpts=null,this.TO_limiter=null,this.mouseDown_bound=null,this.mouseMove_bound=null,this.mouseUp_bound=null,this.remark_bound=null,this.update_bound=null},window.oview.Display=o}(),window.oview=window.oview||{},function(){function t(t){this.init(t)}var e=t.prototype;function i(t,e){for(var i=t.closest(".oview-folder");i;)e.indexOf(i)<0&&e.push(i),i=i.parentNode.closest(".oview-folder")}e.id=null,e.date=null,e.raw=null,e.data=null,e.searchable=null,e.saveable=null,e.elem=null,e.builder=null,e.reqUrl=null,e.init=function(t){this.main=t.main,this.id=t.id,this.date=Number((new Date).getTime()),this.raw=t.raw,this.data=t.data,this.type=t.type,this.reqUrl=t.reqUrl,this.header=t.header,this.klass=t.klass;var e="#"+(this.main.callNum-1),i=t.header;i&&(e+=" - "+i),this.header=e,this.saveable=[],this.searchable={},this.builder=window.oview.process},e.filterOn=function(t,e){for(var n=this.elem.querySelectorAll(".oview-data-line"),s=n.length,o=[],r=0;r<s;r++){var a=n[r],l=a.innerText;if(e)a.style.display=t.test(l)?"none":"block";else{var u=t.test(l);a.style.display=u?"block":"none",u&&i(a,o)}}if(!e){var h=this.main.root.querySelectorAll(".oview-folder");for(r=0;r<h.length;r++){var c=h[r];o.indexOf(c)<0?c.style.display="none":c.style.display="block"}}},e.unFilter=function(t){for(var e=this.elem.querySelectorAll(".oview-data-line, .oview-folder"),i=0;i<e.length;i++)e[i].style.display="block"},e.destroy=function(){this.id=null,this.date=null,this.raw=null,this.data=null,this.searchable=null,this.saveable=null,this.elem=null,this.builder=null,this.klass=null,this.reqUrl=null,this.header=null},window.oview.Entry=t}(),window.oview=window.oview||{},function(){"use strict";function t(t){this.init(t)}function e(t,e,i){var n=document.createElement("a"),s=new Blob([t],{type:i});n.href=URL.createObjectURL(s),n.download=e,n.click(),URL.revokeObjectURL(n.href)}function i(t){return(t+"").replace(/["\r\n\t]/g," ")}var n=t.prototype;n.main=null,n.ui=null,n.json_bound=null,n.csv_bound=null,n.text_bound=null,n.html_bound=null,n.init=function(t){this.main=t,this.ui=t.ui,this.json_bound=this.json.bind(this),this.csv_bound=this.csv.bind(this),this.text_bound=this.text.bind(this),this.html_bound=this.html.bind(this),this.getCsv_bound=this.getCsv.bind(this),this.getHtml_bound=this.getHtml.bind(this),this.getJson_bound=this.getJson.bind(this),this.getText_bound=this.getText.bind(this),this.ui.saveJson.addEventListener("click",this.json_bound),this.ui.saveCsv.addEventListener("click",this.csv_bound),this.ui.saveText.addEventListener("click",this.text_bound),this.ui.saveHtml.addEventListener("click",this.html_bound),t.getCsv=this.getCsv_bound,t.getHtml=this.getHtml_bound,t.getJson=this.getJson_bound,t.getText=this.getText_bound},n.getList=function(){return this.main.display.getFilteredList()},n.getJson=function(){for(var t=this.main.display.getEntryList(),e=[],i=0;i<t.length;i++){var n=t[i];e.push({title:n.header,data:n.data})}return JSON.stringify(e,null,"\t")},n.json=function(t){e(this.getJson(),"data.json","text/json"),this.closeSaveDialog()},n.getText=function(){for(var t=this.getList(),e=[],i=0;i<t.length;i++){var n=t[i],s=n.saveable;for(var o in e.push("--------- "+n.header+" ---------"),s)e.push(o+"\t"+((s[o]||"")+"").replace(/\r\n|\n|\r|\t/gm,""))}return e.join("\n")},n.text=function(t){e(this.getText(),"data.txt","text/plain"),this.closeSaveDialog()},n.getHtml=function(){return"<style>\n"+function(){var t=document.styleSheets,e=[];for(let n=0;n<t.length;n++){var i=t[n].cssRules;for(let t=0;t<i.length;t++)e.push(i[t].cssText)}return e.join("\n")}()+"\n</style>\n"+this.ui.output.outerHTML},n.html=function(t){e(this.getHtml(),"data.html","text/html"),this.closeSaveDialog()},n.getCsv=function(){for(var t=this.getList(),e=[],n=[],s=[],o=0;o<t.length;o++){if((g=t[o]).saveable){var r=g.saveable;for(var a in r)s.indexOf(a)<0&&s.push(a)}}oview.utils.naturalSort(s);var l,u=s.slice();for(o=0;o<u.length;o++)u[o]='"'+i(u[o]).replace(/^events.0.xdm./,"")+'"';e.push(u.join(",")),n.push(u);for(o=0;o<t.length;o++){if((g=t[o]).saveable){for(var h=[],c=(r=g.saveable,0);c<s.length;c++)h.push('"'+i(r[s[c]]||" ")+'"');e.push(h.join(",")),n.push(h)}}var d=this.ui.rotateCVS;if(d&&d.checked){var v=n.length,f=n[0].length,p=new Array(f);for(o=0;o<f;o++)p[o]=new Array(v);for(o=0;o<v;o++)for(var g=n[o],m=0;m<f;m++)p[m][o]=g[m];var y=[];for(o=0;o<f;o++)y.push(p[o].join(","));l=y.join("\n")}else l=e.join("\n");return l},n.csv=function(t){e(this.getCsv(),"data.csv","text/csv"),this.closeSaveDialog()},n.closeSaveDialog=function(){this.main.toolbar.closeSaveDialog()},n.destroy=function(){this.main=null,this.ui=null,this.json_bound=null,this.csv_bound=null,this.text_bound=null,this.html_bound=null,this.getCsv_bound=null,this.getHtml_bound=null,this.getJson_bound=null,this.getText_bound=null},window.oview.Save=t}(),window.oview=window.oview||{},window.oview.toolbar=function(){"use strict";var t={reverse:!1,filter:"",asMin:!1,searchMask:!1,regx:!1};function e(t){this.init(t)}var i=e.prototype;i.useSearchMask=null,i.ui=null,i.userOpts=null,i.saveDialogOpen=null,i.filterHistory=null,i.asMin=null,i.closeAll_bound=null,i.saveDataClick_bound=null,i.filterChange_bound=null,i.reverseClick_bound=null,i.clearOuput_bound=null,i.toggleMinClick_bound=null,i.regxClick_bound=null,i.toggleSearchMask_bound=null,i.userOptRef=null,i.main,i.init=function(e){this.main=e,this.useSearchMask=0,this.userOpts={},this.saveDialogOpen=!1,this.filterHistory,this.asMin=!1,this.ui=e.ui,this.closeAll_bound=this.closeAll.bind(this),this.saveDataClick_bound=this.saveDataClick.bind(this),this.filterChange_bound=this.filterChange.bind(this),this.reverseClick_bound=this.reverseClick.bind(this),this.clearOuput_bound=this.clearOuput.bind(this),this.toggleMinClick_bound=this.toggleMinClick.bind(this),this.regxClick_bound=this.regxClick.bind(this),this.toggleSearchMask_bound=this.toggleSearchMask.bind(this),this.setReverse_bound=this.setReverse.bind(this),this.setFilter_bound=this.setFilter.bind(this),this.setAsMin_bound=this.setAsMin.bind(this),this.setSearchMask_bound=this.setSearchMask.bind(this),this.setRegx_bound=this.setRegx.bind(this),this.filterHistoryChange_bound=this.filterHistoryChange.bind(this),this.userOptRef={reverse:this.setReverse_bound,filter:this.setFilter_bound,asMin:this.setAsMin_bound,searchMask:this.setSearchMask_bound,regx:this.setRegx_bound},this.ui.clickMask.addEventListener("click",this.closeAll_bound),this.ui.save.addEventListener("click",this.saveDataClick_bound),this.ui.filter.addEventListener("input",this.filterChange_bound),this.ui.reverse.addEventListener("click",this.reverseClick_bound),this.ui.clear.addEventListener("click",this.clearOuput_bound),this.ui.toggleMin.addEventListener("click",this.toggleMinClick_bound),this.ui.regx.addEventListener("click",this.regxClick_bound),this.ui.searchMask.addEventListener("click",this.toggleSearchMask_bound),setTimeout((()=>{this.filterHistory=new oview.InputHistory({elem:this.ui.filter,block:this.ui.filterHistory,onchange:this.filterHistoryChange_bound,userOpts:this.userOpts,clickMask:this.ui.clickMask});var e=oview.utils.JSONparse(localStorage.getItem("userOpts"));this.appyUserOpts(e||t,!0)}),100)},i.toggleMinClick=function(){this.setAsMin(!this.asMin)},i.setAsMin=function(t){this.asMin=t,t?this.ui.toggleMin.classList.add("oview-asMin"):this.ui.toggleMin.classList.remove("oview-asMin"),this.setUserOpt("asMin",t),this.main.display.setAsMin(t)},i.toggleSearchMask=function(){0==this.useSearchMask?this.useSearchMask=1:1==this.useSearchMask?this.useSearchMask=2:(this.useSearchMask,this.useSearchMask=0),this.setSearchMask(this.useSearchMask)},i.setSearchMask=function(t){this.useSearchMask=t;var e=this.ui.searchMask.querySelector("i");e.classList.remove("oview-closed"),e.classList.remove("oview-inverse");var i=null;1==t?i="oview-closed":2==t&&(i="oview-inverse"),i&&e.classList.add(i),this.setUserOpt("useSearchMask",t),this.main.display.setSearchMask(t)},i.closeAll=function(){this.clickMaskHide(),this.closeSaveDialog()},i.clickMaskShow=function(t){this.ui.clickMask.style.display="block"},i.clickMaskHide=function(t){this.ui.clickMask.style.display="none"},i.saveDataClick=function(t){this.saveDialogOpen?this.closeSaveDialog():this.openSaveDialog()},i.openSaveDialog=function(){this.clickMaskShow(),this.saveDialogOpen=!0,this.ui.saveDialog.style.display="inline-block",this.ui.save.classList.add("oview-active"),this.ui.save.querySelector("i").classList.add("oview-opened")},i.closeSaveDialog=function(){this.saveDialogOpen=!1,this.ui.saveDialog.style.display="none",this.ui.save.classList.remove("oview-active"),this.ui.save.querySelector("i").classList.remove("oview-opened")},i.setUserOpt=function(t,e){this.userOpts[t]=e,this.userOpts.version="1",localStorage.setItem("userOpts",JSON.stringify(this.userOpts))},i.appyUserOpts=function(e,i){for(var n in e=e||{},this.ui.filter.value=e.filter||t.filter,t){var s=e[n]||t[n];void 0===s&&(s=t[n]),this.userOptRef[n]?this.userOptRef[n](s):console.log("not userOptRef prop",n)}},i.reverseClick=function(t){this.setReverse(!this.userOpts.reverse)},i.setReverse=function(t){if(this.ui){var e=this.ui.reverse.querySelector("i");t?(e.classList.remove("oview-down"),e.classList.add("oview-up")):(e.classList.add("oview-down"),e.classList.remove("oview-up")),this.setUserOpt("reverse",t),this.main.display.setReverse(t)}},i.regxClick=function(t){this.setRegx(!this.userOpts.regx)},i.setRegx=function(t){var e=this.ui.regx;t?e.classList.add("oview-on"):e.classList.remove("oview-on"),this.setUserOpt("regx",t),this.main.display.setRegx(t)},i.clearOuput=function(){this.main.display.clearOuput()},i.filterChange=function(){this.setFilter(this.ui.filter.value)},i.setFilter=function(t){this.main.display.setFilter(t),this.setUserOpt("filter",t)},i.filterHistoryChange=function(t){this.setFilter(t.text),this.setRegx("1"==t.regx)},window.oview.Toolbar=e}(),window.oview=window.oview||{},window.oview.process=function(){"use strict";function t(t){var e=t.data,i=oview.utils.sortObjKeys(e),n=t.type||"page",s=oview.utils.drawObject,o=oview.utils.makeElem("div","oview-data-block"+(n?" oview-"+n:"")+(t.klass?" "+t.klass:""));s({entry:t,obj:i,name:t.header,target:o,headerKlass:"oview-folder-title",closed:!1}),t.elem=o}return{make:function(e,i,n,s){if(e&&"object"==typeof e){var o=JSON.stringify(e),r=new oview.Entry({raw:o.replace(/\\/g,""),data:e,id:n.callNum++,header:i,main:n,klass:s}),a=oview.utils.flatten(e);r.saveable=oview.utils.flatten(e);var l="";for(var u in a)l+=u+"_%|%_"+a[u];return r.searchable=l,t(r),n.display.update(r),!0}return!1},build:t}}(),window.oview=window.oview||{},function(){var t=1;function e(t){this.init(t)}e.prototype.init=function(e){this._main=e.main;var n=e.elem;"string"==typeof n&&(n=document.getElementById(n)),this.root=n,this.root.innerHTML=i;var s=this.root.querySelectorAll("[data-oview-id]");this.list={};for(var o=0;o<s.length;o++){var r=(a=s[o]).getAttribute("data-oview-id");this.list[r]=a}for(s=this.root.querySelectorAll("[data-oview-for]"),o=0;o<s.length;o++){var a,l="ovieDynaId"+t++;r=(a=s[o]).getAttribute("data-oview-for");document.querySelector("[data-oview-id="+r+"]").id=l,a.setAttribute("for",l)}},window.oview.MakeUi=e;var i='<div data-oview-id="clickMask" style="display:none"></div>\n\t<div data-oview-id="main">\n\t\t<div data-oview-id="filterHistoryWrapper">\n\t\t\t<div data-oview-id="filterHistory" style="display:none"></div>\n\t\t</div>\n\t\t<div data-oview-id="tools">\n\t\t\t<div data-oview-id="toggleMin" title="open/close all" class="oview-toolbar-icon"><i class="oview-toggleMin"></i></div>\n\t\t\t<div data-oview-id="clear" title="clear output" class="oview-toolbar-icon"><i class="oview-clear"></i></div>\n\t\t\t<div data-oview-id="reverse" title="new items appear at top/bottom" class="oview-toolbar-icon"><i class="oview-down"></i></div>\n\n\t\t\t<div data-oview-id="filterWrapper">\n\t\t\t\t<input data-oview-id="filter" type="search" name="q" title="filter" placeholder="filter" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />\n\t\t\t</div>\n\t\t\t<div data-oview-id="regxWrapper" title="regular expression&#013;&#013;- don\'t use slashes, just the stuff you would normally put between /and/ &#013;&#013;- we also automatically set the \'i\' flag for case insensitivity">\n\t\t\t\t<span class="oview-t-icon" data-oview-id="regx">RE&nbsp;</span>\n\t\t\t</div>\n\t\t\t<div data-oview-id="searchMask" title="show/hide/invert matches&#013;This is a 3 state switch&#013;1. shows everything&#013;2. Hides lines that DON\'T match.&#013;3. Hides lines that DO match." class="oview-toolbar-icon"><i class="oview-eye"></i></div>\n\t\t\t\n\t\t\t<div data-oview-id="save" title="save output as JSON, CVS, HTML or TEXT" class="oview-toolbar-icon"><i class="oview-save"></i></div>\n\n\t\t</div>\n\n\t\t<div data-oview-id="saveDialog" style="display:none">\n\t\t\t<p><strong>Export Data As</strong></p>\n\t\t\t<div class="oview-genericButton" data-oview-id="saveJson">JSON</div>\n\t\t\t<div class="oview-genericButton" data-oview-id="saveHtml">HTML</div>\n\t\t\t<div class="oview-genericButton" data-oview-id="saveText">TEXT</div>\n\t\t\t<div class="oview-genericButton" data-oview-id="saveCsv">CSV</div>\n            <label data-oview-for="rotateCVS" class="oview-small-text oview-align-right">Rotate CSV 90&deg; <input data-oview-id="rotateCVS" style="width:unset" type="checkbox"></label>\n\t\t</div>\n\n\t\t<div data-oview-id="output">\n\n\t\t</div>\n\t</div>'}(),window.oview=window.oview||{},window.oview.main=function(){"use strict";function t(t){this.init(t)}var e=t.prototype;e.ui=null,e.userOpts=null,e.callNum=null,e.toolbar=null,e.display=null,e.root=null,e.init=function(t){if("string"==typeof t&&(t={elem:t}),!(t=t||{}).elem)throw new TypeError("No element to put this into!");this.ui={},this.userOpts=t,this.callNum=1,this.makeUi=new oview.MakeUi({main:this,elem:t.elem}),this.root=this.makeUi.root,this.ui=this.makeUi.list,this.save=new oview.Save(this),this.toolbar=new oview.Toolbar(this),this.display=new oview.Display(this)},e.add=function(t,e,i){"string"==typeof t&&(t=window.oview.utils.JSONparse(t)),window.oview.process.make(t,e,this,i)},e.destroy=function(){},window.oview.make=function(t){return new oview.Main(t)},window.oview.Main=t}();